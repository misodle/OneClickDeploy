LANSA.addComponent({id:"VF_LM001O",ot:"rp",tp:"Reusable Part",de:"\\OC=Instance Lists Overall Manager",tl:14020001},function(l,oI,u){var cL="ENG";if((l.gCL()=="FRA")||(l.gCL()=="JPN")){cL=l.gCL();}var Fd={F1:{nm:"VF_ELIDN",ft:"A",ln:32,dc:0,lb:{"ENG":"Internal Identi","FRA":"Standard Identi","JPN":"Standard Identi"}[cL],h1:{"ENG":"Internal","FRA":"Standard","JPN":"Standard"}[cL],h2:"Identifier",h3:"",de:{"ENG":"Internal Identifier","FRA":"Standard Identifier","JPN":"Standard Identifier"}[cL],dv:"",
ia:["FE"]}};var cO=l.rC(oI,{an:"PRIM_OBJT",fd:Fd,mt:{uInitialize:{},uTerminate:{},GetInstanceListReference:{ps:{"ForVF_FR003O":{pt:"i"},"RequestedBy":{pt:"i"}}},AddReference:{ps:{"ForVF_FR003O":{pt:"i"},"RequestedBy":{pt:"i"}}},DropReference:{ps:{"ForVF_FR003O":{pt:"i"},"RequestedBy":{pt:"i"}}},TerminateReference:{ps:{"ListTrackingItem":{pt:"i"},"WithCollectionKey":{pt:"i"},"RequestedByName":{pt:"i"}}}},co:function(){cO.aN.call(this);this.aF("VF_LM001O",Fd);var C0=this.cA("USYSTEMCOMMON","VF_SY001X");
var C1=this.cR("LISTTRACKINGITEMS","PRIM_KCOL");var C2=this.cR("CHECKREFERENCETIMER","PRIM_TIMR");if((C0!=null)&&(C0.iI()==false)){C0.iC();}C1.setStyle("COLLECTION");C1.setCollects("VF_LM004O");C1.setKeyedBy(Fd.F1.Dc);C1.iC();C2.setInterval(0);C2.iC();C2.aH("TICK",this,e1);}});cO.mthUINITIALIZE=function(){var m=this.REF,r=l.mR(this,cO,"uInitialize",16);r.ln=16;{r.ln=18;m.CHECKREFERENCETIMER.setInterval(30000);}r.ln=20;r.e();};cO.mthUTERMINATE=function(){var m=this.REF,r=l.mR(this,cO,"uTerminate",23);
r.ln=23;{r.ln=25;m.CHECKREFERENCETIMER.setInterval(0);r.ln=27;m.LISTTRACKINGITEMS.mthREMOVEALL();}r.ln=29;r.e();};cO.mthGETINSTANCELISTREFERENCE=function(p0,p1){var m=this.REF,r=l.mR(this,cO,"GetInstanceListReference",32);var P0=r.cPD("FORVF_FR003O");var P1=r.cPD("REQUESTEDBY");var P2=r.cPD("INSTANCELIST");P0=p0;P1=p1;var C0=r.cD("C0");r.ln=32;{r.ln=39;if((P0!=null)){r.ln=45;P0=r.sR("P0",P0.getROOTVF_FR003O());r.ln=47;if(l.n.gt(P0.getFILTERS().getItemCount(),0)){r.ln=50;C0=r.sR("C0",m.LISTTRACKINGITEMS.get(P0.getUIDENTIFIER()));
r.ln=53;if((C0!=null)){r.ln=55;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.cat(l.cat(l.add("Found existing IL reference for ",P0.getUCAPTION()),". Requested by "),P1.getComponentPatternName()),u,u,true);r.ln=57;P2=r.sR("P2",C0.getINSTANCELIST());return r.rR(P2);}r.ln=64;C0=r.sR("C0",l.cC("VF_LM004O"));r.ln=66;m.LISTTRACKINGITEMS.set(P0.getUIDENTIFIER(),C0);r.ln=68;P2=r.sR("P2",l.cC("VF_LM002O"));r.ln=70;C0.setINSTANCELIST(P2);r.ln=72;P2.setROOTVF_FR003OWNER(P0);r.ln=74;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.cat(l.cat(l.add("Created new IL reference for ",P0.getUCAPTION()),". Requested by "),P1.getComponentPatternName()),u,u,true);
}else{r.ln=78;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.cat(l.cat(l.add("Did not create new IL reference for ",P0.getUCAPTION())," because it has no filters.Requested by "),P1.getComponentPatternName()),u,u,true);}}}r.ln=83;return r.rR(P2);};cO.mthADDREFERENCE=function(p0,p1){var m=this.REF,r=l.mR(this,cO,"AddReference",86);var P0=r.cPD("FORVF_FR003O");var P1=r.cPD("REQUESTEDBY");P0=p0;P1=p1;var C0=r.cD("C0");r.ln=86;{r.ln=93;if((P0!=null)){r.ln=96;P0=r.sR("P0",P0.getROOTVF_FR003O());r.ln=99;C0=r.sR("C0",m.LISTTRACKINGITEMS.get(P0.getUIDENTIFIER()));
r.ln=102;if((C0!=null)){r.ln=104;C0.setREFERENCECOUNT(l.add(C0.getREFERENCECOUNT(),1));r.ln=106;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.cat(l.cat(l.cat(l.cat(l.add("Added reference for ",P0.getUCAPTION()),". Count is "),l.n.AsString(C0.getREFERENCECOUNT())),". Requested by "),P1.getComponentPatternName()),u,u,true);}else{r.ln=112;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.cat(l.cat(l.add("Failed to add reference for ",P0.getUCAPTION()),". Requested by "),P1.getComponentPatternName()),u,u,true);
}}}r.ln=118;r.e();};cO.mthDROPREFERENCE=function(p0,p1){var m=this.REF,r=l.mR(this,cO,"DropReference",121);var P0=r.cPD("FORVF_FR003O");var P1=r.cPD("REQUESTEDBY");P0=p0;P1=p1;var C0=r.cD("C0");r.ln=121;{r.ln=128;if((P0!=null)){r.ln=131;P0=r.sR("P0",P0.getROOTVF_FR003O());r.ln=134;C0=r.sR("C0",m.LISTTRACKINGITEMS.get(P0.getUIDENTIFIER()));r.ln=137;if((C0!=null)){r.ln=139;C0.setREFERENCECOUNT(l.sub(C0.getREFERENCECOUNT(),1));r.ln=141;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.cat(l.cat(l.cat(l.cat(l.add("Removed reference for ",P0.getUCAPTION()),". Count is "),l.n.AsString(C0.getREFERENCECOUNT())),". Requested by "),P1.getComponentPatternName()),u,u,true);
r.ln=145;if(l.n.le(C0.getREFERENCECOUNT(),0)){r.ln=146;this.mthTERMINATEREFERENCE(C0,P0.getUIDENTIFIER(),P1.getComponentPatternName());}}else{r.ln=151;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.cat(l.cat(l.add("Failed to remove reference for ",P0.getUCAPTION()),". Requested by "),P1.getComponentPatternName()),u,u,true);}}}r.ln=157;r.e();};function e1(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#CheckReferenceTimer.Tick",160);r.ln=160;{r.ln=162;{var l1=m.LISTTRACKINGITEMS.cI();while(l1.step()){var LISTTRACKINGITEM=r.sR("LISTTRACKINGITEM",l1.item());
var KEY=r.sR("KEY",l1.key());r.ln=163;if((LISTTRACKINGITEM!=null)){r.ln=164;if(l.n.le(LISTTRACKINGITEM.getREFERENCECOUNT(),0)){r.ln=165;this.mthTERMINATEREFERENCE(LISTTRACKINGITEM,KEY.get(),"CheckReferenceTimer");}}r.ln=168;}l1.end();r.dR("LISTTRACKINGITEM");r.dR("KEY");}}r.ln=170;r.e();};cO.mthTERMINATEREFERENCE=function(p0,p1,p2){var m=this.REF,r=l.mR(this,cO,"TerminateReference",174);var P0=r.cPD("LISTTRACKINGITEM");var P1=r.cPF("WITHCOLLECTIONKEY",Fd.F1.Dc);var P2=r.cP("REQUESTEDBYNAME","PRIM_ALPH");
P0=p0;P1.set(p1);P2.set(p2);r.ln=174;{r.ln=178;if((P0!=null)){r.ln=179;if((P0.getINSTANCELIST()!=null)){r.ln=181;m.USYSTEMCOMMON.ref.mthTRACEEVENT(this,u,l.cat(l.cat(l.add("Terminating instance list for ",P0.getINSTANCELIST().getROOTVF_FR003OWNER().getUCAPTION()),". Requested by "),P2.get()),u,u,true);r.ln=184;P0.getINSTANCELIST().mthZINT_TERMINATE();r.ln=186;P0.setINSTANCELIST(null);}}r.ln=191;m.LISTTRACKINGITEMS.set(P1.get(),null);}r.ln=193;r.e();};{Fd.F1.Dc=function(){this.aN.call(this,Fd.F1);
};l.cFC({co:Fd.F1.Dc,an:"PRIM_FLD",fn:"VF_ELIDN"});}},{rc:["VF_SY001X"],rp:["PRIM_OBJT","PRIM_KCOL","PRIM_TIMR","PRIM_FLD"],dc:["VF_LM004O"]});