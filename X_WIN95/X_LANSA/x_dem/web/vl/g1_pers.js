LANSA.addComponent({id:"G1_PERS",nm:"G1_Person",ot:"rp",tp:"Reusable Part",de:"Person Object",tl:14020001},function(l,oI,u){var cL="ENG";if(l.gCL()=="FRA"){cL=l.gCL();}var Fd={F1:{nm:"STD_INT",ft:"I",ln:4,dc:0,ec:"J",lb:{"ENG":"Std Integer","FRA":"?"}[cL],h1:{"ENG":"Standard","FRA":"?"}[cL],h2:{"ENG":"Integer","FRA":"?"}[cL],h3:{"ENG":"Field","FRA":"?"}[cL],de:{"ENG":"Standard Integer field","FRA":"?"}[cL],dv:0,ia:["FE","RB"]},F2:{nm:"G1_PERSON_ID",ft:"I",ln:4,dc:0,lb:"G1_Person_Id",h1:"G1_Person_Id",
h2:"",h3:"",de:"G1_Person_Id",dv:0},F3:{nm:"G1_PERSON_FIRST_NAME",ft:"NV",ln:256,dc:0,lb:"G1_Person_First_Name",h1:"G1_Person_First_Name",h2:"",h3:"",de:"G1_Person_First_Name",dv:""},F4:{nm:"G1_PERSON_FAMILY_NAME",ft:"NV",ln:256,dc:0,lb:"G1_Person_Family_Name",h1:"G1_Person_Family_Name",h2:"",h3:"",de:"G1_Person_Family_Name",dv:""},F5:{nm:"G1_PERSON_IMAGE",ft:"BL",ln:0,dc:0,lb:"Standard BLOB",h1:"Standard",h2:"BLOB",h3:" ",de:"Standard BLOB",dv:l.SqlNull,ia:["ASQN","FE","LC"]},F6:{nm:"G1_PERSON_ADDRESS1",
ft:"NV",ln:256,dc:0,lb:"G1_Person_Address1",h1:"G1_Person_Address1",h2:"",h3:"",de:"G1_Person_Address1",dv:""},F7:{nm:"G1_PERSON_ADDRESS2",ft:"NV",ln:256,dc:0,lb:"G1_Person_Address2",h1:"G1_Person_Address2",h2:"",h3:"",de:"G1_Person_Address2",dv:""},F8:{nm:"G1_PERSON_ADDRESS3",ft:"NV",ln:256,dc:0,lb:"G1_Person_Address3",h1:"G1_Person_Address3",h2:"",h3:"",de:"G1_Person_Address3",dv:""},F9:{nm:"G1_PERSON_PHONE_HOME",ft:"NV",ln:256,dc:0,lb:"G1_Person_Phone_Home",h1:"G1_Person_Phone_Home",h2:"",h3:"",
de:"G1_Person_Phone_Home",dv:""},F10:{nm:"G1_PERSON_PHONE_WORK",ft:"NV",ln:256,dc:0,lb:"G1_Person_Phone_Work",h1:"G1_Person_Phone_Work",h2:"",h3:"",de:"G1_Person_Phone_Work",dv:""},F11:{nm:"G1_PERSON_PHONE_MOB",ft:"NV",ln:256,dc:0,lb:"G1_Person_Phone_Mob",h1:"G1_Person_Phone_Mob",h2:"",h3:"",de:"G1_Person_Phone_Mob",dv:""}};var cO=l.rC(oI,{an:"PRIM_OBJT",fd:Fd,pt:{Id:{da:"na"},FirstName:{da:"na"},FamilyName:{da:"na"},FullName:{da:"na"},Image:{da:"na"},Email:{da:"na"},Address1:{da:"na"},Address2:{
da:"na"},Address3:{da:"na"},PhoneWork:{da:"na"},PhoneHome:{da:"na"},PhoneMobile:{da:"na"},ActiveTasks:{da:"r"},CompletedTasks:{da:"r"},StatusText:{da:"na"},TaskCount:{da:"na"},ActiveTaskCount:{da:"na"},CompletedTaskCount:{da:"na"}},mt:{RefreshTasks:{}},ev:{Changed:{}},co:function(){cO.aN.call(this);var f=this.aF("G1_PERS",Fd);var C0=this.cR("ACTIVETASKS","PRIM_LCOL");var C1=this.cR("COMPLETEDTASKS","PRIM_LCOL");this.cD("IMAGE");var C3=this.cA("DATA","G1_DATA");C0.setCollects("G1_TASK");C0.iC();C1.setCollects("G1_TASK");
C1.iC();if((C3!=null)&&(C3.iI()==false)){C3.iC();}C0.aLF({});C1.aLF({});this.aLF({"G1_PERSON_ID":f.F2,"G1_PERSON_FIRST_NAME":f.F3,"G1_PERSON_FAMILY_NAME":f.F4,"G1_PERSON_IMAGE":f.F5,"G1_PERSON_ADDRESS1":f.F6,"G1_PERSON_ADDRESS2":f.F7,"G1_PERSON_ADDRESS3":f.F8,"G1_PERSON_PHONE_HOME":f.F9,"G1_PERSON_PHONE_WORK":f.F10,"G1_PERSON_PHONE_MOB":f.F11});}});cO.mthGETID=function(){var f=this.FLD.G1_PERS,r=l.pR(this,cO,"GetId",51);var P0=r.cPF("ID",Fd.F1.Dc);r.ln=51;{r.ln=54;P0.set(f.F2.get());}r.ln=56;return r.rV(P0.get());
};cO.mthGETFIRSTNAME=function(){var f=this.FLD.G1_PERS,r=l.pR(this,cO,"GetFirstName",58);var P0=r.cP("FIRSTNAME","PRIM_DC","UnicodeString");r.ln=58;{r.ln=61;P0.set(f.F3.get());}r.ln=63;return r.rV(P0.get());};cO.mthGETFAMILYNAME=function(){var f=this.FLD.G1_PERS,r=l.pR(this,cO,"GetFamilyName",65);var P0=r.cP("FAMILYNAME","PRIM_DC","UnicodeString");r.ln=65;{r.ln=68;P0.set(f.F4.get());}r.ln=70;return r.rV(P0.get());};cO.mthGETFULLNAME=function(){var f=this.FLD.G1_PERS,r=l.pR(this,cO,"GetFullName",72);
var P0=r.cP("FAMILYNAME","PRIM_DC","UnicodeString");r.ln=72;{r.ln=75;P0.set(l.add(l.cat(f.F3.get()," "),f.F4.get()));}r.ln=77;return r.rV(P0.get());};cO.mthGETIMAGE=function(){var f=this.FLD.G1_PERS,m=this.REF,r=l.pR(this,cO,"GetImage",79);var P0=r.cPD("OIMAGE");r.ln=79;{r.ln=82;if((m.IMAGE==null)){r.ln=84;this.srIMAGE(l.APPL().mthCREATEBITMAP(f.F5.get()));}r.ln=88;P0=r.sR("P0",m.IMAGE);}r.ln=90;return r.rR(P0);};cO.mthGETEMAIL=function(){var r=l.pR(this,cO,"GetEmail",92);var P0=r.cP("EMAIL","PRIM_DC","UnicodeString");
r.ln=92;{r.ln=95;P0.set(l.cat(l.add(l.cat(this.getFIRSTNAME(),"."),this.getFAMILYNAME()),"@lansa.com"));}r.ln=97;return r.rV(P0.get());};cO.mthGETADDRESS1=function(){var f=this.FLD.G1_PERS,r=l.pR(this,cO,"GetAddress1",99);var P0=r.cP("ADDRESS1","PRIM_DC","UnicodeString");r.ln=99;{r.ln=102;P0.set(f.F6.get());}r.ln=104;return r.rV(P0.get());};cO.mthGETADDRESS2=function(){var f=this.FLD.G1_PERS,r=l.pR(this,cO,"GetAddress2",106);var P0=r.cP("ADDRESS2","PRIM_DC","UnicodeString");r.ln=106;{r.ln=109;P0.set(f.F7.get());
}r.ln=111;return r.rV(P0.get());};cO.mthGETADDRESS3=function(){var f=this.FLD.G1_PERS,r=l.pR(this,cO,"GetAddress3",113);var P0=r.cP("ADDRESS3","PRIM_DC","UnicodeString");r.ln=113;{r.ln=116;P0.set(f.F8.get());}r.ln=118;return r.rV(P0.get());};cO.mthGETPHONEHOME=function(){var f=this.FLD.G1_PERS,r=l.pR(this,cO,"GetPhoneHome",120);var P0=r.cP("PHONEHOME","PRIM_DC","UnicodeString");r.ln=120;{r.ln=123;P0.set(f.F9.get());r.ln=125;if(l.n.gt(l.s.CurChars(l.s.Trim(P0.get())),0)){r.ln=127;P0.set(l.add("h: ",P0.get()));
}}r.ln=131;return r.rV(P0.get());};cO.mthGETPHONEWORK=function(){var f=this.FLD.G1_PERS,r=l.pR(this,cO,"GetPhoneWork",133);var P0=r.cP("PHONEWORK","PRIM_DC","UnicodeString");r.ln=133;{r.ln=136;P0.set(f.F10.get());r.ln=138;if(l.n.gt(l.s.CurChars(l.s.Trim(P0.get())),0)){r.ln=140;P0.set(l.add("w: ",P0.get()));}}r.ln=144;return r.rV(P0.get());};cO.mthGETPHONEMOBILE=function(){var f=this.FLD.G1_PERS,r=l.pR(this,cO,"GetPhoneMobile",146);var P0=r.cP("PHONEMOBILE","PRIM_DC","UnicodeString");r.ln=146;{r.ln=149;
P0.set(f.F11.get());r.ln=151;if(l.n.gt(l.s.CurChars(l.s.Trim(P0.get())),0)){r.ln=153;P0.set(l.add("m: ",P0.get()));}}r.ln=157;return r.rV(P0.get());};cO.mthGETTASKCOUNT=function(){var m=this.REF,r=l.pR(this,cO,"GetTaskCount",159);var P0=r.cPF("COUNT",Fd.F1.Dc);r.ln=159;{r.ln=162;P0.set(l.add(m.ACTIVETASKS.getItemCount(),m.COMPLETEDTASKS.getItemCount()));}r.ln=164;return r.rV(P0.get());};cO.mthGETACTIVETASKCOUNT=function(){var m=this.REF,r=l.pR(this,cO,"GetActiveTaskCount",166);var P0=r.cPF("COUNT",Fd.F1.Dc);
r.ln=166;{r.ln=169;P0.set(m.ACTIVETASKS.getItemCount());}r.ln=171;return r.rV(P0.get());};cO.mthGETCOMPLETEDTASKCOUNT=function(){var m=this.REF,r=l.pR(this,cO,"GetCompletedTaskCount",173);var P0=r.cPF("COUNT",Fd.F1.Dc);r.ln=173;{r.ln=176;P0.set(m.COMPLETEDTASKS.getItemCount());}r.ln=178;return r.rV(P0.get());};cO.mthGETSTATUSTEXT=function(){var r=l.pR(this,cO,"GetStatusText",180);var P0=r.cP("STATUSTEXT","PRIM_DC","UnicodeString");r.ln=180;{r.ln=183;if(l.n.eq(this.getTASKCOUNT(),0)){r.ln=185;P0.set("No tasks");
}else{r.ln=189;if(l.n.eq(this.getTASKCOUNT(),1)){r.ln=191;P0.set("1 task, ");r.ln=193;if(l.n.eq(this.getCOMPLETEDTASKCOUNT(),0)){r.ln=195;P0.set(l.cat(P0.get(),"not completed"));}else{r.ln=199;P0.set(l.cat(P0.get(),"completed"));}}else{r.ln=205;P0.set(l.cat(l.n.AsString(this.getTASKCOUNT())," tasks, "));r.ln=207;if(l.n.eq(this.getACTIVETASKCOUNT(),0)){r.ln=209;P0.set(l.cat(P0.get(),"all completed"));}else{r.ln=213;if(l.n.eq(this.getCOMPLETEDTASKCOUNT(),0)){r.ln=215;P0.set(l.cat(P0.get(),"none completed"));
}else{r.ln=219;P0.set(l.cat(P0.get(),l.cat(l.n.AsString(this.getCOMPLETEDTASKS().getItemCount())," completed")));}}}}}r.ln=229;return r.rV(P0.get());};cO.mthREFRESHTASKS=function(){var f=this.FLD.G1_PERS,m=this.REF,r=l.mR(this,cO,"RefreshTasks",235);r.ln=235;{r.ln=237;m.ACTIVETASKS.mthREMOVEALL();r.ln=238;m.COMPLETEDTASKS.mthREMOVEALL();r.ln=240;{var l1=m.DATA.ref.getTASKS().cI();while(l1.step()){var TASK=r.sR("TASK",l1.item());r.ln=242;if(l.n.eq(TASK.getASSIGNEDTOID(),f.F2.get())){r.ln=244;if(TASK.getISCOMPLETED())
{r.ln=246;m.COMPLETEDTASKS.mthINSERT(TASK);}else{r.ln=250;m.ACTIVETASKS.mthINSERT(TASK);}}r.ln=256;}l1.end();r.dR("TASK");}r.ln=258;this.fE("CHANGED");}r.ln=260;r.e();};cO.getID=function(){return this.mthGETID();};cO.getFIRSTNAME=function(){return this.mthGETFIRSTNAME();};cO.getFAMILYNAME=function(){return this.mthGETFAMILYNAME();};cO.getFULLNAME=function(){return this.mthGETFULLNAME();};cO.getIMAGE=function(){return this.mthGETIMAGE();};cO.getEMAIL=function(){return this.mthGETEMAIL();};cO.getADDRESS1=function()
{return this.mthGETADDRESS1();};cO.getADDRESS2=function(){return this.mthGETADDRESS2();};cO.getADDRESS3=function(){return this.mthGETADDRESS3();};cO.getPHONEWORK=function(){return this.mthGETPHONEWORK();};cO.getPHONEHOME=function(){return this.mthGETPHONEHOME();};cO.getPHONEMOBILE=function(){return this.mthGETPHONEMOBILE();};cO.getACTIVETASKS=function(){return this.REF.ACTIVETASKS;};cO.getCOMPLETEDTASKS=function(){return this.REF.COMPLETEDTASKS;};cO.getSTATUSTEXT=function(){return this.mthGETSTATUSTEXT();
};cO.getTASKCOUNT=function(){return this.mthGETTASKCOUNT();};cO.getACTIVETASKCOUNT=function(){return this.mthGETACTIVETASKCOUNT();};cO.getCOMPLETEDTASKCOUNT=function(){return this.mthGETCOMPLETEDTASKCOUNT();};{Fd.F1.Dc=function(){this.aN.call(this,Fd.F1);};l.cFC({co:Fd.F1.Dc,an:"PRIM_FLD",fn:"STD_INT"});}cO.srIMAGE=function(rn){this.sR("IMAGE",rn);};},{rc:["G1_DATA"],rp:["PRIM_OBJT","PRIM_LCOL","PRIM_FLD"],dp:["PRIM_BMP"]});