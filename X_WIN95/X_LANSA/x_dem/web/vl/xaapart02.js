LANSA.addComponent({id:"XAAPART02",nm:"xAssessorControl",ot:"rp",tp:"Reusable Part",de:"Assessor Control Object",tl:14020001},function(l,oI,u){var cO=l.rC(oI,{an:"PRIM_OBJT",mt:{LoggedIn:{},ShowCameraOptions:{},NewPicture:{ps:{"SaveToGallery":{pt:"i"}}},NewVideo:{ps:{"SaveToGallery":{pt:"i"}}},AnnotateImage:{ps:{"SaveToGallery":{pt:"i"}}},Gallery:{},ShowImage:{},ChangeImage:{},StartRecorder:{},Record:{},Stop:{},UseRecording:{},Playback:{},ShowMap:{},CoordinatesRecieved:{},UploadPreChecks:{}},ev:{
Submitted:{},LoginComplete:{},ImageComplete:{},RecodingComplete:{},NewAssesment:{},PreCheckFields:{},PlaybackComplete:{},ViewImage:{},ViewMap:{ps:{"CurrentLocation":{pt:"i"}}}},co:function(){cO.aN.call(this);var C0=this.cA("DATA","XAAPART10");var C1=this.cA("CAMERACONTROL","XAADEV02");var C2=this.cA("RECORDPLAYBACKCONTROL","XAADEV03");var C3=this.cR("DEVICECONTROLS","XAAPART04");var C4=this.cR("MAP","XAAPART06");var C5=this.cR("VIEWIMAGE","XAAPART07");var C6=this.cR("EMPTYFIELDS","PRIM_NMBR");var C7=this.cR("ISVIDEO","PRIM_BOLN");
var C8=this.cR("AUDIOFILE","PRIM_ALPH");var C9=this.cR("MESSAGE","PRIM_ALPH");if((C0!=null)&&(C0.iI()==false)){C0.iC();}if((C1!=null)&&(C1.iI()==false)){C1.iC();}if((C2!=null)&&(C2.iI()==false)){C2.iC();}C3.iC();C4.iC();C5.iC();C6.iC();C7.iC();C8.iC();C9.iC();C1.aH("COMPLETED",this,e1);C1.aH("FAILED",this,e2);C2.aH("RECORDINGCOMPLETED",this,e3);C2.aH("FAILED",this,e4);C2.aH("PLAYBACKCOMPLETED",this,e5);}});function e1(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#CameraControl.Completed",39);var P0=Ps.r("BASE64DATA");
var P1=Ps.r("FILE");r.ln=39;{r.ln=41;m.DATA.ref.setIMAGEBASE64DATA(P0.get());r.ln=43;m.DATA.ref.setIMAGEFILENAME(P1.get());r.ln=45;this.fE("IMAGECOMPLETE");r.ln=47;m.DEVICECONTROLS.mthCAMERAGALLERYREVIEWIMAGE();}r.ln=49;r.e();};function e2(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#CameraControl.Failed",51);r.ln=51;{r.ln=53;l.WEB().mthALERT("Cannot access device camera. Please run this application in the LANSA Mobile app.");r.ln=55;m.DEVICECONTROLS.mthCLOSEPOPUP();}r.ln=57;r.e();};function e3(sender,Ps)
{var m=this.REF,r=l.eR(this,cO,"#RecordPlaybackControl.RecordingCompleted",59);var P0=Ps.r("AUDIOFILEOUTPUTPATH");r.ln=59;{r.ln=61;m.DATA.ref.setAUDIOFILENAME(P0.get());r.ln=63;m.DEVICECONTROLS.mthRECORDANDPLAYBACK();}r.ln=65;r.e();};function e4(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#RecordPlaybackControl.Failed",67);r.ln=67;{r.ln=69;l.WEB().mthALERT("Cannot access device recording and playback. Please run this application in the LANSA Mobile app.");r.ln=71;m.DEVICECONTROLS.mthCLOSEPOPUP();}r.ln=73;
r.e();};function e5(sender,Ps){var r=l.eR(this,cO,"#RecordPlaybackControl.PlaybackCompleted",75);r.ln=75;{r.ln=77;this.fE("PLAYBACKCOMPLETE");}r.ln=79;r.e();};cO.mthLOGGEDIN=function(){var r=l.mR(this,cO,"LoggedIn",85);r.ln=85;{r.ln=87;this.fE("LOGINCOMPLETE");r.ln=89;this.fE("NEWASSESMENT");}r.ln=91;r.e();};cO.mthSHOWCAMERAOPTIONS=function(){var m=this.REF,r=l.mR(this,cO,"ShowCameraOptions",93);r.ln=93;{r.ln=95;m.CAMERACONTROL.ref.setPMEGAPIXELS(m.DATA.ref.getMEGAPIXELSETTING());r.ln=97;m.CAMERACONTROL.ref.setPVIDEOQUALITY(m.DATA.ref.getVIDEOSETTING());
r.ln=99;if(l.s.eq(m.DATA.ref.getIMAGEBASE64DATA(),"")){r.ln=101;m.DEVICECONTROLS.mthCAMERAGALLERY();}else{r.ln=105;m.DEVICECONTROLS.mthCAMERAGALLERYREVIEWIMAGE();}r.ln=109;m.DEVICECONTROLS.mthSHOWPOPUP(u,u,"CENTER","SLIDEINLEFT",u);}r.ln=111;r.e();};cO.mthNEWPICTURE=function(p0){var m=this.REF,r=l.mR(this,cO,"NewPicture",113);var P0=r.cP("SAVETOGALLERY","PRIM_BOLN");P0.set(p0);r.ln=113;{r.ln=116;m.CAMERACONTROL.ref.mthCAPTUREPICTURE(P0.get());}r.ln=118;r.e();};cO.mthNEWVIDEO=function(p0){var m=this.REF,r=l.mR(this,cO,"NewVideo",120);
var P0=r.cP("SAVETOGALLERY","PRIM_BOLN");P0.set(p0);r.ln=120;{r.ln=123;m.CAMERACONTROL.ref.mthCAPTUREVIDEO(P0.get());}r.ln=125;r.e();};cO.mthANNOTATEIMAGE=function(p0){var m=this.REF,r=l.mR(this,cO,"AnnotateImage",127);var P0=r.cP("SAVETOGALLERY","PRIM_BOLN");P0.set(p0);r.ln=127;{r.ln=130;m.CAMERACONTROL.ref.mthANNOTATEIMAGE(P0.get());}r.ln=132;r.e();};cO.mthGALLERY=function(){var m=this.REF,r=l.mR(this,cO,"Gallery",134);r.ln=134;{r.ln=136;m.CAMERACONTROL.ref.mthSELECTFROMGALLERY();}r.ln=138;r.e();
};cO.mthSHOWIMAGE=function(){var m=this.REF,r=l.mR(this,cO,"ShowImage",140);r.ln=140;{r.ln=142;if(l.tB(m.ISVIDEO.get())){r.ln=144;l.WEB().mthALERT("Video playback is currently unavailable");}else{r.ln=148;this.fE("VIEWIMAGE");}}r.ln=152;r.e();};cO.mthCHANGEIMAGE=function(){var m=this.REF,r=l.mR(this,cO,"ChangeImage",154);r.ln=154;{r.ln=156;m.DEVICECONTROLS.mthCAMERAGALLERYREVIEWIMAGE();r.ln=158;m.DEVICECONTROLS.mthSHOWPOPUP(u,u,"CENTER","SLIDEINLEFT",u);}r.ln=160;r.e();};cO.mthSTARTRECORDER=function()
{var m=this.REF,r=l.mR(this,cO,"StartRecorder",162);r.ln=162;{r.ln=164;if(l.tB(l.s.eq(m.DATA.ref.getAUDIOFILENAME(),""))){r.ln=166;m.DEVICECONTROLS.mthRECORDONLY();}else{r.ln=170;m.DEVICECONTROLS.mthRECORDANDPLAYBACK();}r.ln=174;m.DEVICECONTROLS.mthSHOWPOPUP(u,u,"CENTER","SLIDEINLEFT",u);}r.ln=176;r.e();};cO.mthRECORD=function(){var m=this.REF,r=l.mR(this,cO,"Record",178);r.ln=178;{r.ln=180;m.AUDIOFILE.set(m.DATA.ref.mthSETAUDIOFILENAME());r.ln=182;m.RECORDPLAYBACKCONTROL.ref.mthRECORD(m.AUDIOFILE.get());
}r.ln=184;r.e();};cO.mthSTOP=function(){var m=this.REF,r=l.mR(this,cO,"Stop",186);r.ln=186;{r.ln=188;m.RECORDPLAYBACKCONTROL.ref.mthSTOP();}r.ln=190;r.e();};cO.mthUSERECORDING=function(){var r=l.mR(this,cO,"UseRecording",192);r.ln=192;{r.ln=194;this.fE("RECODINGCOMPLETE");}r.ln=196;r.e();};cO.mthPLAYBACK=function(){var m=this.REF,r=l.mR(this,cO,"Playback",198);r.ln=198;{r.ln=200;m.RECORDPLAYBACKCONTROL.ref.mthPLAYBACK(m.AUDIOFILE.get());}r.ln=202;r.e();};cO.mthSHOWMAP=function(){var m=this.REF,r=l.mR(this,cO,"ShowMap",204);
r.ln=204;{r.ln=206;if(l.s.eq(m.DATA.ref.getCOORDINATES(),"")){r.ln=208;{var eP=l.ePs();eP.cR("CURRENTLOCATION","PRIM_BOLN");eP.r("CURRENTLOCATION").set(true);this.fE("VIEWMAP",eP);eP.e();}}else{r.ln=212;{var eP=l.ePs();eP.cR("CURRENTLOCATION","PRIM_BOLN");eP.r("CURRENTLOCATION").set(false);this.fE("VIEWMAP",eP);eP.e();}}}r.ln=216;r.e();};cO.mthCOORDINATESRECIEVED=function(){var m=this.REF,r=l.mR(this,cO,"CoordinatesRecieved",218);r.ln=218;{r.ln=220;m.DATA.ref.mthSETCOORDINATES();}r.ln=222;r.e();};
cO.mthUPLOADPRECHECKS=function(){var m=this.REF,r=l.mR(this,cO,"UploadPreChecks",224);r.ln=224;{r.ln=226;m.DATA.ref.mthDATACHECK();}r.ln=228;r.e();};},{rc:["XAAPART10","XAADEV02","XAADEV03","XAAPART04","XAAPART06","XAAPART07"],rp:["PRIM_OBJT","PRIM_NMBR","PRIM_BOLN","PRIM_ALPH"]});