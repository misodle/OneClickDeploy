LANSA.addComponent({id:"XDTOO_25",nm:"xDToolsUserLogin",ot:"rp",tp:"Reusable Part",de:"Login/Register",tl:14020001},function(l,oI,u){var rc1=l.cB("xslogout1.png");var rc2=l.cB("xsmyacct1.png");var rc3=l.cB("xslogin1.png");var cO=l.rC(oI,{an:"XDTOOLSP",mt:{Update:{},UpdateDesktop:{},UpdateMobile:{}},co:function(){cO.aN.call(this);var C0=this.cR("TABLELAYOUT1","PRIM_TBLO");var C1=this.cR("COLUMN1","PRIM_TBLO","Column");var C2=this.cR("ROW1","PRIM_TBLO","Row");var C3=this.cR("REGISTERITEM1","PRIM_TBLO","Item");
var C4=this.cR("LOGOUTITEM1","PRIM_TBLO","Item");var C5=this.cR("LOGINITEM1","PRIM_TBLO","Item");var C6=this.cR("LOGOUTITEM2","PRIM_TBLO","Item");var C7=this.cR("LOGOUT","PRIM_LABL");var C8=this.cR("REGISTER","PRIM_LABL");var C9=this.cR("LOGIN","PRIM_LABL");this.cD("GACTIVEUSER");var C11=this.cR("LOGGEDINAS","PRIM_LABL");C0.setSizing("CONTENTWIDTH");C0.iC();C1.setDisplayPosition(1);C1.setParent(C0);C1.iC();C2.setDisplayPosition(1);C2.setParent(C0);C2.iC();C3.setColumn(C1);C3.setFlow("RIGHT");C3.setManage(C8);
C3.setParent(C0);C3.setRow(C2);C3.setSizing("CONTENTWIDTH");C3.setAlignment("CENTERLEFT");C3.iC();C4.setColumn(C1);C4.setFlow("RIGHT");C4.setManage(C7);C4.setParent(C0);C4.setRow(C2);C4.setSizing("CONTENTWIDTH");C4.setAlignment("CENTERLEFT");C4.iC();C5.setColumn(C1);C5.setFlow("RIGHT");C5.setManage(C9);C5.setParent(C0);C5.setRow(C2);C5.setSizing("CONTENTWIDTH");C5.setAlignment("CENTERLEFT");C5.iC();C6.setColumn(C1);C6.setFlow("RIGHT");C6.setManage(C11);C6.setParent(C0);C6.setRow(C2);C6.setSizing("CONTENTWIDTH");
C6.setAlignment("CENTERLEFT");C6.iC();C7.setCaption("Logout");C7.setDisplayPosition(4);C7.setEllipses("WORD");C7.setHeight(30);C7.setLeft(251);C7.setParent(this);C7.setTabPosition(2);C7.setTabStop(false);C7.setTop(0);C7.setVerticalAlignment("CENTER");C7.setWidth(82);C7.setImage(rc1);C7.setVisible(false);C7.setThemeDrawStyle("Clickable");C7.setMarginLeft(4);C7.setMarginRight(4);C7.iC();C8.setCaption("Register");C8.setDisplayPosition(2);C8.setEllipses("WORD");C8.setHeight(30);C8.setLeft(73);C8.setParent(this);
C8.setTabPosition(4);C8.setTabStop(false);C8.setTop(0);C8.setVerticalAlignment("CENTER");C8.setWidth(92);C8.setImage(rc2);C8.setThemeDrawStyle("Clickable");C8.setMarginRight(4);C8.setMarginLeft(4);C8.iC();C9.setCaption("Login");C9.setDisplayPosition(1);C9.setEllipses("WORD");C9.setHeight(30);C9.setLeft(0);C9.setParent(this);C9.setTabPosition(3);C9.setTabStop(false);C9.setTop(0);C9.setVerticalAlignment("CENTER");C9.setWidth(73);C9.setImage(rc3);C9.setThemeDrawStyle("Clickable");C9.setMarginLeft(4);
C9.setMarginRight(4);C9.iC();C11.setCaption("LoggedInAs");C11.setDisplayPosition(3);C11.setEllipses("WORD");C11.setHeight(30);C11.setLeft(165);C11.setParent(this);C11.setTabPosition(1);C11.setTabStop(false);C11.setTop(0);C11.setVerticalAlignment("CENTER");C11.setWidth(86);C11.setVisible(false);C11.setThemeDrawStyle("Clickable");C11.setMarginLeft(4);C11.setMarginRight(4);C11.iC();C7.aH("CLICK",this,e8);C8.aH("CLICK",this,e4);C9.aH("CLICK",this,e5);this.REF.GAPPLICATION.ref.aH("ACTIVATINGDESIGN",this,e1);
this.REF.GAPPLICATION.ref.aH("LOGGEDIN",this,e6);this.REF.GAPPLICATION.ref.aH("LOGGEDOUT",this,e7);this.REF.GDATAMODEL.ref.aH("PREPARED",this,e2);this.setHeight(30);this.setWidth(333);this.setLayoutManager(C0);}});function e1(sender,Ps){var r=l.eR(this,cO,"#gApplication.ActivatingDesign",19);var P0=Ps.r("DESIGN");r.ln=19;{r.ln=21;this.mthUPDATE();}r.ln=23;r.e();};cO.mthUPDATE=function(){var m=this.REF,r=l.mR(this,cO,"Update",25);r.ln=25;{r.ln=27;m.LOGIN.setVisible(l.not(this.REF.GAPPLICATION.ref.getISLOGGEDIN()));
r.ln=28;m.REGISTER.setVisible(l.not(this.REF.GAPPLICATION.ref.getISLOGGEDIN()));r.ln=29;m.LOGOUT.setVisible(this.REF.GAPPLICATION.ref.getISLOGGEDIN());r.ln=30;m.LOGGEDINAS.setVisible(this.REF.GAPPLICATION.ref.getISLOGGEDIN());r.ln=32;{var v1=this.REF.GAPPLICATION.ref.getACTIVEDESIGN();if(r.ln=34,l.s.eq(v1,"DESKTOP")){r.ln=36;this.mthUPDATEDESKTOP();}else if(r.ln=38,l.s.eq(v1,"TABLET")){r.ln=40;this.mthUPDATEDESKTOP();}else if(r.ln=42,l.s.eq(v1,"MOBILE")){r.ln=44;this.mthUPDATEMOBILE();}r.ln=46;}}
r.ln=48;r.e();};cO.mthUPDATEDESKTOP=function(){var m=this.REF,r=l.mR(this,cO,"UpdateDesktop",50);r.ln=50;{r.ln=52;m.LOGGEDINAS.setCaption(l.s.Substitute("Logged in as &1",this.REF.GAPPLICATION.ref.getACTIVEUSER().getFIRSTNAME()));}r.ln=54;r.e();};cO.mthUPDATEMOBILE=function(){var m=this.REF,r=l.mR(this,cO,"UpdateMobile",56);r.ln=56;{r.ln=58;m.LOGGEDINAS.setVisible(false);}r.ln=60;r.e();};function e2(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#gDataModel.Prepared",62);r.ln=62;{r.ln=64;this.srGACTIVEUSER(this.REF.GAPPLICATION.ref.getACTIVEUSER());
}r.ln=66;r.e();};function e3(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#gActiveUser.Prepared",68);r.ln=68;{r.ln=70;this.REF.GDATAMODEL.ref.getSHOPPINGCART().setACCOUNTID(m.GACTIVEUSER.getID());r.ln=72;this.mthUPDATE();}r.ln=74;r.e();};function e4(sender,Ps){var r=l.eR(this,cO,"#Register.Click",76);r.ln=76;{r.ln=78;this.REF.GAPPLICATION.ref.mthREGISTERUSER();r.ln=80;l.WEB().getHistory().mthADD("Page=UserEditor");}r.ln=82;r.e();};function e5(sender,Ps){var r=l.eR(this,cO,"#Login.Click",84);r.ln=84;
{r.ln=86;this.REF.GAPPLICATION.ref.mthACTIVATELOGIN();}r.ln=88;r.e();};function e6(sender,Ps){var r=l.eR(this,cO,"#gApplication.LoggedIn",90);r.ln=90;{r.ln=92;this.mthUPDATE();}r.ln=94;r.e();};function e7(sender,Ps){var r=l.eR(this,cO,"#gApplication.LoggedOut",96);r.ln=96;{r.ln=98;this.mthUPDATE();}r.ln=100;r.e();};function e8(sender,Ps){var r=l.eR(this,cO,"#Logout.Click",102);r.ln=102;{r.ln=104;this.REF.GAPPLICATION.ref.mthLOGOUT();}r.ln=106;r.e();};cO.srGACTIVEUSER=function(rn){if(this.REF.GACTIVEUSER!=null)
{this.REF.GACTIVEUSER.rH("PREPARED",this,e3);}this.sR("GACTIVEUSER",rn);if(this.REF.GACTIVEUSER!=null){this.REF.GACTIVEUSER.aH("PREPARED",this,e3);}};},{rc:["XDTOOLSP"],rp:["PRIM_TBLO","PRIM_TBLO.Column","PRIM_TBLO.Row","PRIM_TBLO.Item","PRIM_LABL"],dc:["XDTOO_12"]});