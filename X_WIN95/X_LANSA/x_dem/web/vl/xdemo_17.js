LANSA.addComponent({id:"XDEMO_17",nm:"xDemoWebUtilities",ot:"rp",tp:"Reusable Part",de:"Utilities - Generic tools for web",tl:14020001},function(l,oI,u){var cL="ENG";if((l.gCL()=="FRA")||(l.gCL()=="JPN")||(l.gCL()=="LLL")){cL=l.gCL();}var Fd={F1:{nm:"DATEASNUMBER",ft:"P",ln:8,dc:0,lb:"DateAsNumber",h1:"DateAsNumber",h2:"",h3:"",de:"DateAsNumber",dv:0}};var cO=l.rC(oI,{an:"PRIM_OBJT",fd:Fd,rm:["dt"],mt:{UpdateCheckBoxesList:{ps:{"ListItem":{pt:"i"}}},UpdateChildItemsList:{ps:{"ListItem":{pt:"i"}}},
UpdateParentItemsList:{ps:{"ListItem":{pt:"i"}}},SplitString:{ps:{"String":{pt:"i"},"Separator":{pt:"i"},"IncludeBlankItems":{pt:"i"}}},ProperCase:{ps:{"Subject":{pt:"i"}}},StartofMonth:{ps:{"Source":{pt:"i"}}},EndofMonth:{ps:{"Source":{pt:"i"}}},AdjustDateByMonths:{ps:{"Source":{pt:"i"},"Months":{pt:"i"}}},AdjustDateByYears:{ps:{"Source":{pt:"i"},"Years":{pt:"i"}}},ApplyMonthToDate:{ps:{"Source":{pt:"i"},"Month":{pt:"i"}}},ApplyYearToDate:{ps:{"Source":{pt:"i"},"Year":{pt:"i"}}},SaveValue:{ps:{"Name":
{pt:"i"},"Value":{pt:"i"}}},RestoreValue:{ps:{"Name":{pt:"i"}}},isEmail:{ps:{"EmailAddress":{pt:"i"}}}},co:function(){cO.aN.call(this);this.aF("XDEMO_17",Fd);}});cO.mthUPDATECHECKBOXESLIST=function(p0){var r=l.mR(this,cO,"UpdateCheckBoxesList",12);var P0=r.cPD("LISTITEM");P0=p0;r.ln=12;{r.ln=16;cO.mthUPDATECHILDITEMSLIST.call(this,P0);r.ln=19;cO.mthUPDATEPARENTITEMSLIST.call(this,P0);}r.ln=21;r.e();};cO.mthUPDATECHILDITEMSLIST=function(p0){var r=l.mR(this,cO,"UpdateChildItemsList",23);var P0=r.cPD("LISTITEM");
P0=p0;r.ln=23;{r.ln=27;{var l1=P0.getItems().cI();while(l1.step()){var ITEM=r.sR("ITEM",l1.item());r.ln=29;ITEM.setChecked(P0.getChecked());r.ln=32;cO.mthUPDATECHILDITEMSLIST.call(this,ITEM);r.ln=34;}l1.end();r.dR("ITEM");}}r.ln=36;r.e();};cO.mthUPDATEPARENTITEMSLIST=function(p0){var r=l.mR(this,cO,"UpdateParentItemsList",38);var P0=r.cPD("LISTITEM");P0=p0;var C0=r.cD("C0");r.ln=38;{r.ln=44;if((P0.getParentItem()!=null)){r.ln=46;{var l1=P0.getParentItem().getItems().cI();while(l1.step()){var ITEM=r.sR("ITEM",l1.item());
r.ln=50;if((C0==null)){r.ln=52;P0.getParentItem().setChecked(ITEM.getChecked());}else{r.ln=57;if(l.s.ne(C0.getChecked(),ITEM.getChecked())){r.ln=59;P0.getParentItem().setChecked("GRAYED");r.ln=62;break;}}r.ln=69;C0=r.sR("C0",ITEM);r.ln=71;}l1.end();r.dR("ITEM");}r.ln=74;cO.mthUPDATEPARENTITEMSLIST.call(this,P0.getParentItem());}}r.ln=78;r.e();};cO.mthSPLITSTRING=function(p0,p1,p2){var r=l.mR(this,cO,"SplitString",86);var P0=r.cP("STRING","PRIM_STR");var P1=r.cP("SEPARATOR","PRIM_STR");var P2=r.cP("INCLUDEBLANKITEMS","PRIM_BOLN");
var P3=r.cPD("RESULT");P0.set(p0);P1.set((p1===u)?(" "):(p1));P2.set((p2===u)?(false):(p2));var C0=r.cR("BREAK","PRIM_NMBR");C0.iC();r.ln=86;{r.ln=94;P3=r.sR("P3",l.cC("PRIM_LCOL").tB([ti1]));r.ln=96;if(l.tB(l.s.ne(P0.get(),""))){r.ln=98;for(var i1=1,s1=1,t1=9999999;(((s1>=0)&&(i1<=t1))||((s1<0)&&(i1>=t1)));i1+=s1){r.ln=101;C0.set(l.s.PositionOf(P0.get(),P1.get()));r.ln=103;{var v1=C0.get();if(r.ln=105,l.n.eq(v1,0)){r.ln=107;P3.mthINSERT(l.cC("PRIM_STR"));r.ln=108;P3.getLast().set(P0.get());r.ln=110;
break;}else if(r.ln=112,l.n.eq(v1,1)){r.ln=114;if(l.tB(P2.get())){r.ln=116;P3.mthINSERT(l.cC("PRIM_STR"));}}else{r.ln=122;P3.mthINSERT(l.cC("PRIM_STR"));r.ln=123;P3.getLast().set(l.s.Substring(P0.get(),1,l.sub(C0.get(),1)));}r.ln=125;}r.ln=128;P0.set(l.s.DeleteSubstring(P0.get(),1,C0.get()));}}}r.ln=134;return r.rR(P3);};cO.mthPROPERCASE=function(p0){var r=l.mR(this,cO,"ProperCase",142);var P0=r.cP("SUBJECT","PRIM_STR");var P1=r.cP("RESULT","PRIM_STR");P0.set(p0);r.ln=142;{r.ln=146;if(l.tB(l.s.ne(P0.get(),"")))
{r.ln=148;P1.set(l.s.ReplaceSubstring(l.s.LowerCase(P0.get()),1,1,l.s.UpperCase(l.s.Substring(P0.get(),1,1))));}}r.ln=152;return r.rV(P1.get());};cO.mthSTARTOFMONTH=function(p0){var r=l.mR(this,cO,"StartofMonth",158);var P0=r.cP("SOURCE","PRIM_DATE");var P1=r.cP("RESULT","PRIM_DATE");P0.set(p0);r.ln=158;{r.ln=162;P1.set(l.n.AsDate(l.add(l.sub(l.d.AsNumber(P0.get(),"CCYYMMDD"),l.d.Day(P0.get())),1),"CCYYMMDD"));}r.ln=164;return r.rV(P1.get());};cO.mthENDOFMONTH=function(p0){var r=l.mR(this,cO,"EndofMonth",171);
var P0=r.cP("SOURCE","PRIM_DATE");var P1=r.cP("RESULT","PRIM_DATE");P0.set(p0);r.ln=171;{r.ln=175;if(l.n.ne(l.d.Month(P0.get()),12)){r.ln=177;P1.set(l.d.Adjust(l.n.AsDate(l.add(l.sub(l.add(l.d.AsNumber(P0.get(),"CCYYMMDD"),100),l.d.Day(P0.get())),1),"CCYYMMDD"),-1));}else{r.ln=181;P1.set(l.d.Adjust(l.n.AsDate(l.add(l.sub(l.add(l.d.AsNumber(P0.get(),"CCYYMMDD"),8900),l.d.Day(P0.get())),1),"CCYYMMDD"),-1));}}r.ln=185;return r.rV(P1.get());};cO.mthADJUSTDATEBYMONTHS=function(p0,p1){var f=this.FLD.XDEMO_17,r=l.mR(this,cO,"AdjustDateByMonths",191);
var P0=r.cP("SOURCE","PRIM_DATE");var P1=r.cP("MONTHS","PRIM_NMBR");var P2=r.cP("RESULT","PRIM_DATE");P0.set(p0);P1.set(p1);r.ln=191;{r.ln=196;f.F1.set(l.d.AsNumber(P0.get(),"CCYYMMDD"));r.ln=198;{var v1=P1.get();if(r.ln=200,l.n.eq(v1,0)){r.ln=202;P2.set(P0.get());}else if(r.ln=204,l.n.gt(v1,0)){r.ln=206;for(var i1=1,s1=1,t1=l.tI(P1.get());(((s1>=0)&&(i1<=t1))||((s1<0)&&(i1>=t1)));i1+=s1){r.ln=208;{var v2=l.s.Substring(l.n.AsString(f.F1.get()),5,2);if(r.ln=210,l.s.eq(v2,"12")){r.ln=212;f.F1.set(l.add(f.F1.get(),8900));
}else{r.ln=216;f.F1.set(l.add(f.F1.get(),100));}r.ln=218;}}}else if(r.ln=222,l.n.lt(v1,0)){r.ln=224;for(var i1=1,s1=1,t1=l.tI(l.mul(P1.get(),-1));(((s1>=0)&&(i1<=t1))||((s1<0)&&(i1>=t1)));i1+=s1){r.ln=226;{var v2=l.s.Substring(l.n.AsString(f.F1.get()),5,2);if(r.ln=228,l.s.eq(v2,"01")){r.ln=230;f.F1.set(l.sub(f.F1.get(),8900));}else{r.ln=234;f.F1.set(l.sub(f.F1.get(),100));}r.ln=236;}}}r.ln=240;}r.ln=244;for(var i1=1,s1=1,t1=9999999;(((s1>=0)&&(i1<=t1))||((s1<0)&&(i1>=t1)));i1+=s1){r.ln=246;if(l.n.IsDate(f.F1.get(),"CCYYMMDD"))
{break;}r.ln=248;f.F1.set(l.sub(f.F1.get(),1));}r.ln=252;P2.set(l.n.AsDate(f.F1.get(),"CCYYMMDD"));}r.ln=254;return r.rV(P2.get());};cO.mthADJUSTDATEBYYEARS=function(p0,p1){var f=this.FLD.XDEMO_17,r=l.mR(this,cO,"AdjustDateByYears",261);var P0=r.cP("SOURCE","PRIM_DATE");var P1=r.cP("YEARS","PRIM_NMBR");var P2=r.cP("RESULT","PRIM_DATE");P0.set(p0);P1.set(p1);r.ln=261;{r.ln=266;f.F1.set(l.d.AsNumber(P0.get(),"CCYYMMDD"));r.ln=268;f.F1.set(l.add(f.F1.get(),l.mul(10000,P1.get())));r.ln=272;for(var i1=1,s1=1,t1=9999999;(((s1>=0)&&(i1<=t1))||((s1<0)&&(i1>=t1)));i1+=s1)
{r.ln=274;if(l.n.IsDate(f.F1.get(),"CCYYMMDD")){break;}r.ln=276;f.F1.set(l.sub(f.F1.get(),1));}r.ln=280;P2.set(l.n.AsDate(f.F1.get(),"CCYYMMDD"));}r.ln=282;return r.rV(P2.get());};cO.mthAPPLYMONTHTODATE=function(p0,p1){var f=this.FLD.XDEMO_17,r=l.mR(this,cO,"ApplyMonthToDate",289);var P0=r.cP("SOURCE","PRIM_DATE");var P1=r.cP("MONTH","PRIM_NMBR");var P2=r.cP("RESULT","PRIM_DATE");P0.set(p0);P1.set(p1);r.ln=289;{r.ln=294;f.F1.set(l.d.AsNumber(P0.get(),"CCYYMMDD"));r.ln=296;P1.set(l.n.Bound(P1.get(),1,12));
r.ln=298;f.F1.set(l.add(l.sub(f.F1.get(),l.mul(l.d.Month(P0.get()),100)),l.mul(P1.get(),100)));r.ln=302;for(var i1=1,s1=1,t1=9999999;(((s1>=0)&&(i1<=t1))||((s1<0)&&(i1>=t1)));i1+=s1){r.ln=304;if(l.n.IsDate(f.F1.get(),"CCYYMMDD")){break;}r.ln=306;f.F1.set(l.sub(f.F1.get(),1));}r.ln=310;P2.set(l.n.AsDate(f.F1.get(),"CCYYMMDD"));}r.ln=312;return r.rV(P2.get());};cO.mthAPPLYYEARTODATE=function(p0,p1){var f=this.FLD.XDEMO_17,r=l.mR(this,cO,"ApplyYearToDate",319);var P0=r.cP("SOURCE","PRIM_DATE");var P1=r.cP("YEAR","PRIM_NMBR");
var P2=r.cP("RESULT","PRIM_DATE");P0.set(p0);P1.set(p1);r.ln=319;{r.ln=324;f.F1.set(l.d.AsNumber(P0.get(),"CCYYMMDD"));r.ln=326;P1.set(l.n.Max(P1.get(),P1.get(),1800));r.ln=328;f.F1.set(l.add(l.sub(f.F1.get(),l.mul(l.d.Year(P0.get()),10000)),l.mul(P1.get(),10000)));r.ln=332;for(var i1=1,s1=1,t1=9999999;(((s1>=0)&&(i1<=t1))||((s1<0)&&(i1>=t1)));i1+=s1){r.ln=334;if(l.n.IsDate(f.F1.get(),"CCYYMMDD")){break;}r.ln=336;f.F1.set(l.sub(f.F1.get(),1));}r.ln=340;P2.set(l.n.AsDate(f.F1.get(),"CCYYMMDD"));}r.ln=342;
return r.rV(P2.get());};cO.mthSAVEVALUE=function(p0,p1){var r=l.mR(this,cO,"SaveValue",347);var P0=r.cP("NAME","PRIM_STR");var P1=r.cP("VALUE","PRIM_STR");P0.set(p0);P1.set(p1);r.ln=347;{r.ln=351;if((l.WEB().getLocalStorage().get(P0.get())==null)){r.ln=353;l.WEB().getLocalStorage().mthADD(P0.get(),P1.get());}else{r.ln=357;l.WEB().getLocalStorage().get(P0.get()).set(P1.get());}}r.ln=361;r.e();};cO.mthRESTOREVALUE=function(p0){var r=l.mR(this,cO,"RestoreValue",366);var P0=r.cP("NAME","PRIM_STR");var P1=r.cP("RESULT","PRIM_STR");
P0.set(p0);r.ln=366;{r.ln=370;if((l.WEB().getLocalStorage().get(P0.get())!=null)){r.ln=372;P1.set(l.WEB().getLocalStorage().get(P0.get()).get());}}r.ln=376;return r.rV(P1.get());};cO.mthISEMAIL=function(p0){var r=l.mR(this,cO,"isEmail",379);var P0=r.cP("EMAILADDRESS","PRIM_STR");var P1=r.cP("RESULT","PRIM_BOLN");P0.set(p0);r.ln=379;{r.ln=383;P1.set(l.s.IsMatch(P0.get(),"(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\]) "));
}r.ln=385;return r.rV(P1.get());};var ti1={p:"PRIM_STR"};},{rp:["PRIM_OBJT","PRIM_DTIM"],dp:["PRIM_LIST.ListItem","PRIM_NMBR"]});